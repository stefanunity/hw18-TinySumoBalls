game.GameManagerSystem.update = function (scheduler, world)
{
   world.forEachEntity([game.RoundManager], function (entity, manager)
   {
      switch (manager.State())
      {

         case game.GameState.Init:
            ut.Flow.Service.instantiate('game.StartMenu');
            manager.setState(game.GameState.StartMenu);
            break;
         case game.GameState.StartMenu:
            StartMenuUpdate(world, manager);
            break;
         case game.GameState.InitGameplay:
            InitGameplay(world, manager);
            break;
         case game.GameState.Gameplay:
            GameplayUpdate(world, manager);
            break;
         case game.GameState.GameOver:

            GameOver(world, manager);

            break;
      }
   });
}